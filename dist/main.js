(()=>{"use strict";async function e(e){const t=await fetch("http://api.openweathermap.org/geo/1.0/direct?q="+e+"&limit=1&appid=42d9bbce104de377e00f785f9b102383",{mode:"cors"});return await t.json()}async function t(e,t){const n=await fetch("http://api.openweathermap.org/data/2.5/forecast?lat="+e+"&lon="+t+"&appid=42d9bbce104de377e00f785f9b102383&units=metric",{mode:"cors"});return await n.json()}function n(e){const t={temp:Math.round(e.main.temp),humidity:e.main.humidity,wind:e.wind.speed,weather:e.weather[0].main,precip:0,icon:e.weather[0].icon};return void 0!==e.rain&&(t.precip=e.rain["3h"]),t}function o(e){return[e[0],e[8],e[16],e[24],e[32]].map((e=>n(e)))}function i(e){document.getElementById("city-name").innerText=e}function r(e,t,n,o,i){document.getElementById("degree").innerText=e,document.getElementById("precipitation").innerText=t+"%",document.getElementById("humidity").innerText=n+"%",document.getElementById("wind").innerText=o,document.getElementById("weather-icon").src="https://openweathermap.org/img/wn/"+i+"@2x.png"}function c(e){const t=document.querySelectorAll(".day"),n=document.querySelectorAll(".weather-icon-daily"),o=document.querySelectorAll(".degree-daily"),i=function(){const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=new Date,n=[];for(let o=0;o<5;o++){const i=e[(t.getDay()+o)%7];n.push(i)}return n}();for(let r=0;r<t.length;r++)t[r].innerText=i[r],n[r].src="https://openweathermap.org/img/wn/"+e[r].icon.slice(0,-1)+"d@2x.png",console.log(e[r].icon),o[r].innerText=e[r].temp+"Â°"}const d=document.getElementById("search-form"),a=document.getElementById("search-button"),l=document.getElementById("search-bar"),m=document.getElementById("celsius-converter"),u=document.getElementById("fahrenheit-converter"),s=document.getElementById("degree");let p=!0;e("Amsterdam").then((e=>{i(e[0].name),console.log(e),t(e[0].lat,e[0].lon).then((e=>{const t=n(e.list[0]);r(t.temp,t.precip,t.humidity,t.wind,t.icon),c(o(e.list))}))})),d.onsubmit=function(){return!1},a.addEventListener("click",(function(){e(l.value).then((e=>{i(e[0].name),console.log(e),t(e[0].lat,e[0].lon).then((e=>{const t=n(e.list[0]);console.log(e),r(t.temp,t.precip,t.humidity,t.wind,t.icon),c(o(e.list))}))}))})),m.addEventListener("click",(function(){var e;p||(m.style.color="white",u.style.color="rgb(208, 208, 208)",s.innerText=(e=parseInt(s.innerText),Math.round((e-32)/1.8)),p=!0)})),u.addEventListener("click",(function(){p&&(m.style.color="rgb(208, 208, 208)",u.style.color="white",s.innerText=function(e){return Math.round(1.8*e+32)}(parseInt(s.innerText)),p=!1)}))})();